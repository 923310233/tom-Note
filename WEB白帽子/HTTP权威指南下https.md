# 14、安全HTTP
![25.png](./images/25.png)

**数字密钥  是编码/解码算法的输入**，编码算法是一些函数。
很多情况下，**编码算法与解码算法都是众所周知的**，因此密钥就成了唯一保密的东西。

但对称密钥需要发送者和接受者之间，有共享的密钥，这样两两之间都生成一个，需要N的平方个密钥。

## 14.5、公开密钥加密技术
![26.png](./images/26.png)
即服务器可以把它的加密密钥公之于众，**任何想要向该服务器发送报文的人都可以使用它公开的密钥来加密，但只有服务器可以用私钥去解密**。

**RSA加密技术：找到私有密钥的几乎不可能**。

## 14.5、数字签名 与 总结
密码：
密码学中的密码（cipher）和我们日常生活中所说的密码不太一样。计算机术语『密码 cipher』是一种用于加密或者解密的算法，而我们日常所使用的『密码 password』是一种口令，like a text.

密钥(key):
密钥是一种参数，它是在使用密码（cipher）算法过程中输入的参数。
同一个明文在  相同的密码算法  和 不同的密钥  计算下会产生不同的密文。
**很多知名的密码算法都是公开的，密钥才是决定密文是否安全的重要参数**，通常密钥越长，破解的难度越大
比如一个8位的密钥最多有256种情况，使用穷举法，能非常轻易的破解


对称密钥:
**对称密钥在加密和解密的过程中使用的密钥是相同的**
缺点：密钥需要在通讯的两端共享，让彼此知道密钥是什么对方才能正确解密。如果每个客户端与服务端单独维护一个密钥，那么服务端需要管理的密钥将是成千上万，这会给服务端带来噩梦

非对称密钥
**又称为公开密钥加密，服务端会生成一对密钥，一个私钥保存在服务端**，仅自己知道，另一个是公钥，公钥可以自由发布供任何人使用。客户端的明文通过公钥加密后的密文需要用私钥解密。

数字签名：
数据在浏览器和服务器之间传输时，有可能在传输过程中被冒充的盗贼把内容替换了，**那么如何保证数据是真实服务器发送的而不被调包呢，同时如何保证传输的数据没有被人篡改呢？**

要解决这两个问题就必须用到数字签名，
**数字签名就是用于验证传输的内容是不是真实服务器发送的数据，发送的数据有没有被篡改过**，它就干这两件事
是非对称加密的一种应用场景。不过他是反过来用私钥来加密，通过与之配对的公钥来解密。

- 第一步：服务端把报文经过Hash处理后生成摘要信息Digest，**摘要信息使用私钥private-key加密之后就生成签名**，服务器把签名连同报文一起发送给客户端。
- 第二步：客户端接收到数据后，**把签名提取出来用public-key解密**。如果能正常的解密出来Digest2，那么就能确认是对方发的，此时只是确定这是对方发的。
- 第三步：**客户端把报文Text提取出来做同样的Hash处理，得到的摘要信息Digest1，再与之前解密出来的Digist2对比**，如果两者相等，就表示内容没有被篡改，否则内容就是被人改过了。


**服务器把数字证书传输给客户端，数字证书中包含服务器公钥**，客户端用公钥解析证书中的数字签名，可以验证服务器的身份。
数字签名是附加在报文上的特殊加密的校验码


